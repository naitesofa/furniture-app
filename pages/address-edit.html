<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>编辑收货地址 - 家逸生活</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
    <link href="../css/common.css" rel="stylesheet">
    <link href="../css/scrollbar.css" rel="stylesheet">
    <style>
        /* 主题颜色变量 - 与首页保持一致 */
        :root {
            --primary-color: #2A9D8F;
            --secondary-color: #E9C46A;
            --accent-color: #F4A261;
            --dark-color: #264653;
            --light-color: #F8F9FA;
            --bg-color: #F5F7F8;
            
            /* 完整品牌色彩系统 */
            --brand-primary: #2A9D8F;
            --brand-primary-light: #4DB6A9;
            --brand-primary-dark: #1F7A70;
            --brand-primary-transparent: rgba(42, 157, 143, 0.1);
            
            --brand-secondary: #E9C46A;
            --brand-secondary-light: #F2D68B;
            --brand-secondary-dark: #D4A93B;
            
            --brand-accent: #F4A261;
            --brand-accent-light: #F7BE8C;
            --brand-accent-dark: #E68940;
            
            --brand-dark: #264653;
            --brand-dark-light: #3A6A7E;
            --brand-dark-dark: #1A323C;
            
            --brand-light: #F8F9FA;
            --brand-light-dark: #E9ECEF;
            
            --brand-success: #38B2AC;
            --brand-warning: #F59E0B;
            --brand-error: #EF4444;
            --brand-info: #3B82F6;
            
            /* 渐变色 */
            --brand-gradient-primary: linear-gradient(135deg, var(--brand-primary), var(--brand-success));
            --brand-gradient-secondary: linear-gradient(135deg, var(--brand-secondary), var(--brand-accent));
            --brand-gradient-dark: linear-gradient(135deg, var(--brand-dark), #3A6A7E);
            
            /* 阴影 */
            --shadow-sm: 0 2px 4px rgba(38, 70, 83, 0.06);
            --shadow-md: 0 4px 6px rgba(38, 70, 83, 0.1);
            --shadow-lg: 0 10px 15px rgba(38, 70, 83, 0.1);
            --shadow-highlight: 0 5px 15px rgba(42, 157, 143, 0.3);
        }

        body {
            background-color: var(--bg-color);
            color: var(--brand-dark);
        }

        /* 导航栏样式 */
        .nav-bar {
            background: white;
            box-shadow: var(--shadow-sm);
        }

        .nav-bar i {
            color: var(--brand-dark-light);
            transition: color 0.3s ease;
        }

        .nav-bar i:hover {
            color: var(--brand-primary);
        }

        /* 表单样式 */
        .form-section {
            background: white;
            border-radius: 16px;
            margin-bottom: 12px;
            padding: 16px;
            box-shadow: var(--shadow-sm);
        }

        .form-group {
            margin-bottom: 16px;
        }

        .form-label {
            display: block;
            margin-bottom: 8px;
            color: var(--brand-dark);
            font-size: 14px;
        }

        .form-input {
            width: 100%;
            padding: 10px 12px;
            border: 1px solid var(--brand-light-dark);
            border-radius: 8px;
            font-size: 14px;
            transition: all 0.3s ease;
        }

        .form-input:focus {
            outline: none;
            border-color: var(--brand-primary);
            box-shadow: 0 0 0 3px var(--brand-primary-transparent);
        }

        .form-input::placeholder {
            color: #A0AEC0;
        }

        /* 地区选择器样式 */
        .area-selector {
            display: flex;
            gap: 8px;
        }

        .area-select {
            flex: 1;
            padding: 10px 12px;
            border: 1px solid var(--brand-light-dark);
            border-radius: 8px;
            font-size: 14px;
            background-color: white;
            transition: all 0.3s ease;
        }

        .area-select:focus {
            outline: none;
            border-color: var(--brand-primary);
            box-shadow: 0 0 0 3px var(--brand-primary-transparent);
        }

        /* 标签选择器样式 */
        .tag-selector {
            display: flex;
            gap: 12px;
            margin-top: 8px;
        }

        .tag-btn {
            padding: 6px 16px;
            border: 1px solid var(--brand-light-dark);
            border-radius: 20px;
            font-size: 13px;
            color: var(--brand-dark-light);
            background: white;
            transition: all 0.3s ease;
        }

        .tag-btn.active {
            background: var(--brand-primary-transparent);
            color: var(--brand-primary);
            border-color: var(--brand-primary);
        }

        /* 默认地址开关 */
        .switch-wrapper {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 12px 0;
        }

        .switch {
            position: relative;
            width: 44px;
            height: 24px;
            border-radius: 12px;
            background: var(--brand-light-dark);
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .switch.active {
            background: var(--brand-primary);
        }

        .switch::after {
            content: '';
            position: absolute;
            top: 2px;
            left: 2px;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: white;
            transition: all 0.3s ease;
        }

        .switch.active::after {
            transform: translateX(20px);
        }

        /* 保存按钮样式 */
        .save-btn {
            position: fixed;
            bottom: 24px;
            left: 16px;
            right: 16px;
            background: var(--brand-gradient-primary);
            color: white;
            padding: 14px;
            border-radius: 24px;
            font-weight: 500;
            text-align: center;
            box-shadow: var(--shadow-highlight);
            transition: all 0.3s ease;
        }

        .save-btn:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-lg);
        }

        .save-btn:active {
            transform: translateY(0);
        }
    </style>
</head>
<body class="bg-gray-50">
    <!-- 顶部导航栏 -->
    <div class="nav-bar fixed top-0 left-0 right-0 z-10">
        <div class="flex items-center justify-between px-4 h-12">
            <div class="flex items-center">
                <a href="javascript:history.back()" class="text-gray-500 mr-3">
                    <i class="fas fa-arrow-left"></i>
                </a>
                <div class="text-lg font-medium">编辑收货地址</div>
            </div>
        </div>
    </div>
    
    <!-- 主要内容区 -->
    <div class="main-content pt-14 pb-24 px-4">
        <div class="form-section">
            <div class="form-group">
                <label class="form-label">收货人</label>
                <input type="text" class="form-input" placeholder="请输入收货人姓名" value="李小明">
            </div>
            
            <div class="form-group">
                <label class="form-label">手机号码</label>
                <input type="tel" class="form-input" placeholder="请输入手机号码" value="13800138000">
            </div>
            
            <div class="form-group">
                <label class="form-label">所在地区</label>
                <div class="area-selector">
                    <select class="area-select">
                        <option>广东省</option>
                    </select>
                    <select class="area-select">
                        <option>深圳市</option>
                    </select>
                    <select class="area-select">
                        <option>南山区</option>
                    </select>
                </div>
            </div>
            
            <div class="form-group">
                <label class="form-label">详细地址</label>
                <input type="text" class="form-input" placeholder="请输入详细地址" value="科技园南区A栋1001室">
            </div>
            
            <div class="form-group">
                <label class="form-label">地址标签</label>
                <div class="tag-selector">
                    <button class="tag-btn active">家</button>
                    <button class="tag-btn">公司</button>
                    <button class="tag-btn">学校</button>
                    <button class="tag-btn">其他</button>
                </div>
            </div>
            
            <div class="switch-wrapper">
                <span class="text-sm">设为默认收货地址</span>
                <div class="switch active"></div>
            </div>
        </div>
    </div>
    
    <!-- 保存按钮 -->
    <button class="save-btn">
        保存
    </button>

    <script>
        // 获取URL参数
        function getUrlParams() {
            const params = new URLSearchParams(window.location.search);
            return {
                id: params.get('id'),
                name: params.get('name'),
                phone: params.get('phone'),
                province: params.get('province'),
                city: params.get('city'),
                district: params.get('district'),
                address: params.get('address'),
                tag: params.get('tag'),
                isDefault: params.get('isDefault') === '1'
            };
        }

        // 填充表单数据
        function fillFormData() {
            const params = getUrlParams();
            if (params.id) {
                // 填充基本信息
                document.querySelector('input[placeholder="请输入收货人姓名"]').value = params.name || '';
                document.querySelector('input[placeholder="请输入手机号码"]').value = params.phone || '';
                document.querySelector('input[placeholder="请输入详细地址"]').value = params.address || '';

                // 填充地区选择
                const provinceSelect = document.querySelector('.area-selector select:nth-child(1)');
                const citySelect = document.querySelector('.area-selector select:nth-child(2)');
                const districtSelect = document.querySelector('.area-selector select:nth-child(3)');

                if (provinceSelect && params.province) {
                    provinceSelect.innerHTML = `<option>${params.province}</option>`;
                }
                if (citySelect && params.city) {
                    citySelect.innerHTML = `<option>${params.city}</option>`;
                }
                if (districtSelect && params.district) {
                    districtSelect.innerHTML = `<option>${params.district}</option>`;
                }

                // 设置地址标签
                const tagButtons = document.querySelectorAll('.tag-btn');
                tagButtons.forEach(btn => {
                    if (btn.textContent === params.tag) {
                        tagButtons.forEach(b => b.classList.remove('active'));
                        btn.classList.add('active');
                    }
                });

                // 设置默认地址开关
                const switchElem = document.querySelector('.switch');
                if (params.isDefault) {
                    switchElem.classList.add('active');
                } else {
                    switchElem.classList.remove('active');
                }

                // 更新页面标题
                document.querySelector('.nav-bar .text-lg').textContent = '编辑收货地址';
            } else {
                // 新增地址模式
                document.querySelector('.nav-bar .text-lg').textContent = '新增收货地址';
            }
        }

        // 页面加载完成后执行
        document.addEventListener('DOMContentLoaded', fillFormData);

        // 切换开关状态
        document.querySelector('.switch').addEventListener('click', function() {
            this.classList.toggle('active');
        });

        // 切换标签选中状态
        document.querySelectorAll('.tag-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                document.querySelectorAll('.tag-btn').forEach(b => b.classList.remove('active'));
                this.classList.add('active');
            });
        });

        // 保存按钮点击事件
        document.querySelector('.save-btn').addEventListener('click', function() {
            // 这里可以添加表单验证和数据提交逻辑
            history.back();
        });
    </script>
</body>
</html> 